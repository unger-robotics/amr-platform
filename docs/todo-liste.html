<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>todo-liste.mathjax_tmp</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="main-design.css" />
</head>
<body>
<div class="main-container">
<h1 id="todo-liste-amr-projekt">ToDo-Liste AMR-Projekt</h1>
<blockquote>
<p><strong>Stand:</strong> 2025-12-13 | <strong>Aktuelle Phase:</strong>
3.3 (Odometrie)</p>
</blockquote>
<hr />
<h2 id="phasen-Ã¼bersicht-revidiert">ğŸ“Š Phasen-Ãœbersicht (Revidiert)</h2>
<table class="table table-compact">
<colgroup>
<col style="width: 24%" />
<col style="width: 48%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr>
<th>Phase</th>
<th>Beschreibung</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Phase 0</td>
<td>Fundament (OS, Docker, Hailo)</td>
<td>âœ… Abgeschlossen</td>
</tr>
<tr>
<td>Phase 1</td>
<td>Motor-Test + Teleop (Serial-Bridge)</td>
<td>âœ… Abgeschlossen</td>
</tr>
<tr>
<td>Phase 2</td>
<td>Encoder + Odometrie + PID (Serial-Bridge)</td>
<td>âœ… Abgeschlossen</td>
</tr>
<tr>
<td>Phase 3</td>
<td><strong>micro-ROS Integration</strong></td>
<td>â—„â”€â”€ <strong>AKTUELL</strong></td>
</tr>
<tr>
<td>Phase 4</td>
<td>LiDAR + SLAM</td>
<td>â¬œ</td>
</tr>
<tr>
<td>Phase 5</td>
<td>Navigation (Nav2)</td>
<td>â¬œ</td>
</tr>
<tr>
<td>Phase 6</td>
<td>Kamera + AI</td>
<td>â¬œ</td>
</tr>
<tr>
<td>Phase 7</td>
<td>Integration &amp; HÃ¤rtung</td>
<td>â¬œ</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="phase-1-2-abgeschlossen-serial-bridge">âœ… Phase 1 &amp; 2:
Abgeschlossen (Serial-Bridge)</h2>
<h3 id="erreichte-ziele-als-backup-vorhanden">Erreichte Ziele (als
Backup vorhanden)</h3>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />ESP32 Serial-Bridge
Firmware v0.5.0-pid</label></li>
<li><label><input type="checkbox" checked="" />Differential Drive mit
PID-Regelung</label></li>
<li><label><input type="checkbox" checked="" />Encoder-Kalibrierung
(374.3 / 373.6 Ticks/Rev)</label></li>
<li><label><input type="checkbox" checked="" />Odometrie (x, y,
theta)</label></li>
<li><label><input type="checkbox" checked="" />ROS 2 Serial Bridge
Node</label></li>
<li><label><input type="checkbox" checked="" />Bodentest: 1.6%
Distanzfehler, 0.5cm Drift</label></li>
</ul>
<p><strong>Hinweis:</strong> Serial-Bridge bleibt als Fallback in
<code>firmware_serial/</code></p>
<hr />
<h2 id="phase-3-micro-ros-integration-aktuell">ğŸ¯ Phase 3: micro-ROS
Integration (AKTUELL)</h2>
<h3 id="architektur-entscheidung-2025-12-13">Architektur-Entscheidung
(2025-12-13)</h3>
<p><strong>Alt:</strong> Serial-Bridge (Python Parser, Custom Protokoll)
<strong>Neu:</strong> micro-ROS (Native ROS 2 Topics, DDS-Standard)</p>
<table class="table table-compact">
<thead>
<tr>
<th>Aspekt</th>
<th>Serial-Bridge</th>
<th>micro-ROS</th>
</tr>
</thead>
<tbody>
<tr>
<td>Protokoll</td>
<td>Custom Text</td>
<td>DDS/XRCE</td>
</tr>
<tr>
<td>ROS 2 Integration</td>
<td>Bridge-Node</td>
<td>Native</td>
</tr>
<tr>
<td>Zukunftssicherheit</td>
<td>Begrenzt</td>
<td>âœ… Standard</td>
</tr>
<tr>
<td>KomplexitÃ¤t</td>
<td>Einfacher</td>
<td>HÃ¶her</td>
</tr>
</tbody>
</table>
<h3 id="agent-als-systemd-service">3.1 Agent als systemd Service âœ…</h3>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Service-Datei erstellen
(<code>/etc/systemd/system/microros-agent.service</code>)</label></li>
<li><label><input type="checkbox" checked="" />Automatischer Start bei
Boot</label></li>
<li><label><input type="checkbox" checked="" />Restart bei
Absturz</label></li>
<li><label><input type="checkbox"
checked="" />Status-Monitoring</label></li>
</ul>
<p><strong>Validiert:</strong> 2025-12-13</p>
<h3 id="motor-control-cmd_vel">3.2 Motor-Control (<code>/cmd_vel</code>)
âœ…</h3>
<ul class="task-list">
<li><label><input type="checkbox"
checked="" /><code>geometry_msgs/Twist</code> Subscriber
implementieren</label></li>
<li><label><input type="checkbox" checked="" />Differential Drive
Kinematik (v, Ï‰ â†’ v_left, v_right)</label></li>
<li><label><input type="checkbox" checked="" />PWM-Ausgabe an Cytron
MDD3A</label></li>
<li><label><input type="checkbox"
checked="" />Deadzone-Kompensation</label></li>
<li><label><input type="checkbox" checked="" />Failsafe (Timeout â†’
Motoren stopp)</label></li>
<li><label><input type="checkbox" checked="" />Teleop Tastatursteuerung
getestet</label></li>
</ul>
<p><strong>Topics (aktiv):</strong></p>
<table class="table table-compact">
<thead>
<tr>
<th>Topic</th>
<th>Typ</th>
<th>Richtung</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/cmd_vel</code></td>
<td><code>geometry_msgs/Twist</code></td>
<td>Sub</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/esp32/heartbeat</code></td>
<td><code>std_msgs/Int32</code></td>
<td>Pub</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>/esp32/led_cmd</code></td>
<td><code>std_msgs/Bool</code></td>
<td>Sub</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<p><strong>Validiert:</strong> 2025-12-13</p>
<h3 id="odometrie-odom-aktuell">3.3 Odometrie (<code>/odom</code>) â—„â”€â”€
AKTUELL</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Encoder-ISR implementieren (D6,
D7)</label></li>
<li><label><input type="checkbox" />Tick-ZÃ¤hlung
(Interrupt-basiert)</label></li>
<li><label><input type="checkbox" />Odometrie-Berechnung (Î”x, Î”y,
Î”Î¸)</label></li>
<li><label><input type="checkbox" /><code>nav_msgs/Odometry</code>
Publisher</label></li>
<li><label><input type="checkbox" />TF-Broadcast: <code>odom</code> â†’
<code>base_link</code></label></li>
</ul>
<p><strong>Geplante Topics:</strong></p>
<table class="table table-compact">
<thead>
<tr>
<th>Topic</th>
<th>Typ</th>
<th>Frequenz</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/odom</code></td>
<td><code>nav_msgs/Odometry</code></td>
<td>50 Hz</td>
<td>Position &amp; Orientierung</td>
</tr>
<tr>
<td><code>/tf</code></td>
<td><code>tf2_msgs/TFMessage</code></td>
<td>50 Hz</td>
<td>Transform odomâ†’base_link</td>
</tr>
</tbody>
</table>
<h3 id="imu-integration-optional">3.4 IMU Integration (Optional) â¬œ</h3>
<ul class="task-list">
<li><label><input type="checkbox" />MPU6050 Ã¼ber I2C ansprechen
(D4/D5)</label></li>
<li><label><input type="checkbox" /><code>sensor_msgs/Imu</code>
Publisher</label></li>
<li><label><input type="checkbox" />Orientierung
(Quaternion)</label></li>
<li><label><input type="checkbox" />TF: <code>base_link</code> â†’
<code>imu_link</code></label></li>
</ul>
<hr />
<h2 id="phase-3-validierung">ğŸ“‹ Phase 3 Validierung</h2>
<table class="table table-compact">
<thead>
<tr>
<th>Test</th>
<th>Kriterium</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent Service</td>
<td>Startet automatisch nach Reboot</td>
<td>âœ…</td>
</tr>
<tr>
<td>cmd_vel â†’ Motor</td>
<td>Teleop funktioniert</td>
<td>âœ…</td>
</tr>
<tr>
<td>Failsafe</td>
<td>Motoren stoppen nach 500ms</td>
<td>âœ…</td>
</tr>
<tr>
<td>Odometrie</td>
<td>1m Test &lt; 5% Fehler</td>
<td>â¬œ</td>
</tr>
<tr>
<td>TF Tree</td>
<td>odom â†’ base_link korrekt</td>
<td>â¬œ</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="nÃ¤chste-phasen-vorschau">ğŸ”œ NÃ¤chste Phasen (Vorschau)</h2>
<h3 id="phase-4-lidar-slam">Phase 4: LiDAR + SLAM</h3>
<ul class="task-list">
<li><label><input type="checkbox" />RPLIDAR A1 in Docker
einbinden</label></li>
<li><label><input type="checkbox" />slam_toolbox
konfigurieren</label></li>
<li><label><input type="checkbox" />Testraum kartieren</label></li>
<li><label><input type="checkbox" />Karte speichern (PGM +
YAML)</label></li>
</ul>
<h3 id="phase-5-navigation-nav2">Phase 5: Navigation (Nav2)</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Nav2 Stack
konfigurieren</label></li>
<li><label><input type="checkbox" />AMCL Lokalisierung</label></li>
<li><label><input type="checkbox" />Autonome Punkt-zu-Punkt
Navigation</label></li>
</ul>
<h3 id="phase-6-kamera-ai">Phase 6: Kamera + AI</h3>
<ul class="task-list">
<li><label><input type="checkbox" />IMX296 Global Shutter</label></li>
<li><label><input type="checkbox" />YOLOv8 auf Hailo-8L</label></li>
<li><label><input type="checkbox" />Personen-Erkennung â†’
Stopp</label></li>
</ul>
<h3 id="phase-7-integration">Phase 7: Integration</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Sensor Fusion (EKF)</label></li>
<li><label><input type="checkbox" />Demo vorbereiten</label></li>
</ul>
<hr />
<h2 id="revidierter-zeitplan">ğŸ“… Revidierter Zeitplan</h2>
<pre><code>Woche:  1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17 18
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Phase 0 â–ˆâ–ˆâ–ˆâ–ˆ                                                 Fundament     âœ…
Phase 1       â–ˆâ–ˆâ–ˆâ–ˆ                                           Motor-Test    âœ…
Phase 2             â–ˆâ–ˆâ–ˆâ–ˆ                                     Odometrie     âœ…
Phase 3                   â–ˆâ–ˆâ–ˆâ–ˆ                               micro-ROS     â—„â”€â”€ AKTUELL
Phase 4                         â–ˆâ–ˆâ–ˆâ–ˆ                         SLAM
Phase 5                               â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 Navigation
Phase 6                                       â–ˆâ–ˆâ–ˆâ–ˆ           Kamera/AI
Phase 7                                             â–ˆâ–ˆâ–ˆâ–ˆ     Integration
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</code></pre>
<hr />
<h2 id="software-versionen">ğŸ”§ Software-Versionen</h2>
<table class="table table-compact">
<thead>
<tr>
<th>Komponente</th>
<th>Version</th>
<th>Ort</th>
</tr>
</thead>
<tbody>
<tr>
<td>micro-ROS Firmware</td>
<td><strong>v2.0.0</strong></td>
<td><code>esp32_microros_test/</code></td>
</tr>
<tr>
<td>micro-ROS Agent</td>
<td>Humble (Docker)</td>
<td>systemd Service</td>
</tr>
<tr>
<td>Serial-Bridge (Backup)</td>
<td>v0.5.0-pid</td>
<td><code>firmware_serial/</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="projekt-struktur-aktualisiert">ğŸ“ Projekt-Struktur
(aktualisiert)</h2>
<pre><code>amr-platform/
â”œâ”€â”€ esp32_microros_test/     # â—„â”€â”€ AKTIV (micro-ROS v2.0.0)
â”‚   â”œâ”€â”€ include/config.h
â”‚   â”œâ”€â”€ src/main.cpp
â”‚   â”œâ”€â”€ platformio.ini
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ firmware_serial/          # Backup (Serial-Bridge)
â”œâ”€â”€ firmware_test/            # Hardware-Tests
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ docker-compose.yml   # serial_bridge entfernt
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup_microros_service.sh
â”‚   â””â”€â”€ microros-agent.service
â”œâ”€â”€ ros2_ws/
â””â”€â”€ docs/</code></pre>
<hr />
<h2 id="checkliste-phase-3-abgeschlossen-wenn">âœ… Checkliste: Phase 3
abgeschlossen wenn</h2>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Agent startet automatisch
bei Boot</label></li>
<li><label><input type="checkbox" checked="" /><code>/cmd_vel</code>
steuert Motoren</label></li>
<li><label><input type="checkbox" checked="" />Teleop
funktioniert</label></li>
<li><label><input type="checkbox" checked="" />Failsafe
getestet</label></li>
<li><label><input type="checkbox" /><code>/odom</code> publiziert
Position</label></li>
<li><label><input type="checkbox" />TF-Tree ist korrekt</label></li>
<li><label><input type="checkbox" />Code committet und
dokumentiert</label></li>
<li><label><input type="checkbox" />README.md aktualisiert</label></li>
</ul>
<hr />
<p><em>Aktualisiert: 2025-12-13 | Phase 3.1 + 3.2 abgeschlossen</em></p>
</div>
</body>
</html>
