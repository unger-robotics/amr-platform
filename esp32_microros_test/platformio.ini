; =============================================================================
; PlatformIO Konfiguration für micro-ROS AMR Controller
; Version: 2.0.0 | Phase 3.2 Motor-Control
; =============================================================================

[env:seeed_xiao_esp32s3]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino

; micro-ROS Library
lib_deps =
    https://github.com/micro-ROS/micro_ros_platformio

; micro-ROS Konfiguration
board_microros_transport = serial
board_microros_distro = humble

; Upload über USB (nativer USB-C)
upload_speed = 921600
monitor_speed = 115200

; Build-Flags für XIAO ESP32-S3
build_flags =
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCORE_DEBUG_LEVEL=0
    ; Mehr Stack für geometry_msgs
    -DCONFIG_MICRO_ROS_APP_STACK=16000
    -DCONFIG_MICRO_ROS_APP_TASK_PRIO=5

; Extra Scripts für micro-ROS Build
extra_scripts = pre:extra_script.py
